<html>

<head>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Krona+One&family=Oswald:wght@700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="video_stile.css">

<title>
</title>

</head>

<body>

<section id="header">

<div id="titolino">Parrocchia Madonna di Fatima</div>
<div id="titolo">ESTATE RAGAZZI 2021</div>
<a href="gsap prova.html" id="logo"></a>

</section>

 <section class="categoria">
        <div id="pagina">VIDEO</div>
        
        <div id="storia">
        
        <div class="Twin"></div>
        <div class="Tour"></div>
        <div class="pine"></div>
        
        <div class="car"></div>
        
        <div class="Twin2"></div>
        <div class="Tour2"></div>
        <div class="pine2"></div>
        
        </div>
        
    </section>

<section class="elenco">

    
    <section class="singolo">
   
        <div id="capitolo1" class="contenitore">
            <div class="capitolo">CAPITOLO 1
    
                <button id="cap1" class="esci" value="false" onclick="apri('aT', 'aV', this.id, 'immagine1')">x</button>
    
            </div>
    
            <div id='aT' class="trama c1">Trama</div>
            <video id='aV' class="video c1"></video>
            
            
        </div>

        <div id="immagine1" class="quadro"></div>
     
    </section>

    <section class="singolo"> 
        <div id="capitolo2" class="contenitore">
            <div class="capitolo">CAPITOLO 2
    
                <button id="cap2" class="esci" value="false" onclick="apri('bT', 'bV', this.id, 'immagine2')">x</button>
    
            </div>
    
            <div id='bT' class="trama c2">Trama</div>
            <video id='bV' class="video c2"></video>
        </div>

        <div id="immagine2" class="quadro"></div>
    
    </section>
    
    <section class="singolo">
   
        <div id="capitolo3" class="contenitore">
            <div class="capitolo">CAPITOLO 3
    
                <button id="cap1" class="esci" value="false" onclick="apri('cT', 'cV', this.id, 'immagine3')">x</button>
    
            </div>
    
            <div id='cT' class="trama c3">Trama</div>
            <video id='cV' class="video c3"></video>
            
            
        </div>

        <div id="immagine3" class="quadro"></div>
     
    </section>
    
</section>

<section id="footer"></section>

</body>

<footer>
<script>

var tx = gsap.timeline({});

tx.from(".Twin", {duration: 1, y:100})
  .from(".Tour", {duration: 1, y:100}, "-=0.9")
  .from(".pine", {duration: 1, y:100}, "-=0.9")
  .from(".Twin2", {duration: 1, y:100}, "-=0.9")
  .from(".Tour2", {duration: 1, y:100}, "-=0.9")
  .from(".pine2", {duration: 1, y:100}, "-=0.9")
  .from(".car", {duration: 2, x:1000});
tx.to(".car", {duration: 2, x: -1000}, "+=5");

 
var attivo = true;
var dimensione = window.matchMedia("(max-width: 600px)"); 

function controlloMediaQuery() {
  if (dimensione.matches) { // If media query matches
    attivo = false;
  } else {
    attivo = true;
  }
}
 
function apri(idTrama, idVideo, bottone, numImmagine){

var valore = document.getElementById(bottone).getAttribute('value');

if(valore === "false"){
    document.getElementById(bottone).setAttribute('value', "true");
    var t2 = gsap.timeline({});
    t2.to("#"+idTrama, {duration: 0.1, height: 100, display:"block"})
    
    controlloMediaQuery();
      
    if(attivo){ 
    t2.to("#"+idVideo, {duration: 0.4, height: 500, display:"block"}, "-=0.1")
      .to("#"+numImmagine, {duration: 0.4, height: 600, display:"inline-block"}, "-=0.5");
    } 
    else{
    t2.to("#"+idVideo, {duration: 0.4, height: 200, display:"block"}, "-=0.1"); 
    }
}
else {
    document.getElementById(bottone).setAttribute('value', "false");
    var t2 = gsap.timeline({});
    t2.to("#"+idVideo, {duration: 0.4, height:0, display:"none"})
      .to("#"+numImmagine, {duration: 0.4, height:0, display:"none"}, "-=0.4")
      .to("#"+idTrama, {duration: 0.1, height:0, display:"none"}, "-=0.1");
      
}

}

</script>
</footer>

</html>